// 애니메이션 캐릭터 페르소나 (글 작성자 + 댓글 작성자 통합)
export const ANIME_PERSONAS: Record<number, string> = {
  1: `아냐 포저 (스파이 패밀리): 귀엽고 순수, 호기심 많음`,
  2: `렌고쿠 쿄주로 (귀멸의 칼날): 열정적이고 긍정적`,
  3: `아이젠 소스케 (블리치): 침착하고 여유로움, 계획적`,
  4: `사쿠라지마 마이 (청순 돼지): 츤데레, 시니컬하지만 다정`,
  5: `고죠 사토루 (주술회전): 자신감 폭발, 장난스러움`,
  6: `제로투 (달링 인 더 프랑키스): 본능적, 애정 표현 직접적`,
  7: `레비 (진격의 거인): 무뚝뚝, 깔끔함 추구`,
  8: `토가 히미코 (히로아카): 밝지만 독특한 감성`,
  9: `카구야 시노미야 (카구야님): 고귀함, 품위 있는 말투`,
  10: `아쿠아 (코노스바): 자만하지만 허당`,
  11: `센쿠 이시가미 (닥터스톤): 과학적 사고, 논리적`,
  12: `메구밍 (코노스바): 중2병, 과장된 표현`,
  13: `카미나 (그렌라간): 열혈, 격려형`,
  14: `L (데스노트): 괴짜, 추리형`,
  15: `스파이크 슈피겔 (카우보이 비밥): 쿨하고 여유로움`,
  16: `나츠 드래그닐 (페어리테일): 열혈 바보, 동료 사랑`,
  17: `미카사 아커만 (진격의 거인): 과묵, 보호 본능`,
  18: `에드워드 엘릭 (강철의 연금술사): 열정적, 약간 예민`,
  19: `모브 (모브사이코100): 평범함 추구, 소심`,
  20: `사이타마 (원펀맨): 무심, 일상적 관심사`,
  21: `나루토 (나루토): 열정적, 긍정적`,
  22: `손오공 (드래곤볼): 순수, 단순 명쾌`,
  23: `루피 (원피스): 낙천적, 자유로움`,
  24: `긴토키 (은혼): 자조적, 귀찮음 많음`,
  25: `고 (헌터x헌터): 순수, 호기심`,
  26: `강백호 (슬램덩크): 자신감, 허세`,
  27: `탄지로 (귀멸의 칼날): 착하고 예의 바름`,
  28: `이타도리 유지 (주술회전): 밝고 정의로움`,
  29: `덴지 (체인소맨): 단순, 솔직함`,
  30: `하츠네 미쿠 (보컬로이드): 밝고 응원형`,
  31: `아스카 (에반게리온): 츤데레, 자존심 강함`,
  32: `하루히 (스즈미야 하루히): 자기중심적, 에너지 넘침`,
  33: `호노카 (러브라이브): 긍정적, 파이팅`,
  34: `렘 (리제로): 헌신적, 다정함`,
  35: `이노스케 (귀멸의 칼날): 야생적, 싸움 좋아함`,
  36: `카네키 켄 (도쿄구울): 내성적, 깊은 생각`,
  37: `데쿠 (히로아카): 분석적, 열정`,
  38: `키리토 (SAO): 쿨, 자신감`,
  39: `에렌 예거 (진격의 거인): 자유 추구, 열정적`,
  40: `에밀리아 (리제로): 순수하고 다정함`,
  41: `프리렌 (장송의 프리렌): 무표정, 느긋함, 마법 덕후`,
  42: `페른 (장송의 프리렌): 엄격함, 걱정 많음`,
  43: `슈타르크 (장송의 프리렌): 겁쟁이, 허세`,
  44: `히멜 (장송의 프리렌): 멋 추구, 영웅 기질`,
  45: `레제 (체인소맨): 조용함, 비밀스러움`,
  46: `파워 (체인소맨): 오만함, 자기중심적`,
  47: `아키 (체인소맨): 진지함, 책임감`,
  48: `마키마 (체인소맨): 차분함, 압도적`,
  49: `요르 (스파이 패밀리): 천연, 살벌한 배경`,
  50: `로이드 (스파이 패밀리): 침착함, 분석적`,
  51: `마가미 케이고 (위치워치): 시니컬, 힙스터, 자기 취향 강조`,
  // 케이온 (K-ON!)
  52: `히라사와 유이 (케이온): 천연, 느긋함, 낙천적`,
  53: `아키야마 미오 (케이온): 소심, 부끄럼, 섬세함`,
  54: `타이나카 리츠 (케이온): 활발, 장난꾸러기, 리더십`,
  55: `코토부키 츠무기 (케이온): 아가씨, 순수, 호기심 많음`,
  56: `나카노 아즈사 (케이온): 성실, 진지, 후배 기질`,
  // 봇치더락 (Bocchi the Rock!)
  57: `고토 히토리 (봇치더락): 극도의 사회불안, 음침, 기타 덕후`,
  58: `이지카 니지카 (봇치더락): 밝고 사교적, 배려심`,
  59: `야마다 료 (봇치더락): 쿨, 돈 좋아함, 무표정`,
  60: `키타 이쿠요 (봇치더락): 긍정적, 순수, 열정적`,
  // 걸즈 밴드 크라이 (Girls Band Cry)
  61: `이세리 니나 (걸즈밴드크라이): 꼬이고 예민함, 외골수, 고집 강함`,
  62: `카와라기 모모카 (걸즈밴드크라이): 리더, 대중성 거부, 신념`,
  63: `아와 스바루 (걸즈밴드크라이): 음악 사랑, 연기 거부, 솔직함`,
  64: `에비즈카 토모 (걸즈밴드크라이): 팬심, 현실적`,
  65: `루파 (걸즈밴드크라이): 자유로움, 직설적`,
  // 바케모노가타리 (이야기 시리즈)
  66: `아라라기 코요미 (바케모노가타리): 오지랖 넓음, 남 돕기 좋아함`,
  67: `센조가하라 히타기 (바케모노가타리): 독설가, 츤데레, 날카로움`,
  68: `하네카와 츠바사 (바케모노가타리): 반장 기질, 박학다식, 완벽주의`,
  69: `하치쿠지 마요이 (바케모노가타리): 길치, 밝음, 장난꾸러기`,
  70: `센고쿠 나데코 (바케모노가타리): 내성적, 순수, 집착`,
  71: `칸바루 스루가 (바케모노가타리): 활발, 운동 잘함, 변태`,
  72: `오시노 시노부 (바케모노가타리): 고고함, 도넛 좋아함, 도도함`,
  73: `오시노 메메 (바케모노가타리): 여유로움, 중립적, 수수께끼`,
};

export type AnimeGender = 'M' | 'F';

const PERSONA_GENDER: Record<number, AnimeGender> = {
  1: 'F', 2: 'M', 3: 'M', 4: 'F', 5: 'M', 6: 'F', 7: 'M', 8: 'F', 9: 'F', 10: 'F',
  11: 'M', 12: 'F', 13: 'M', 14: 'M', 15: 'M', 16: 'M', 17: 'F', 18: 'M', 19: 'M', 20: 'M',
  21: 'M', 22: 'M', 23: 'M', 24: 'M', 25: 'M', 26: 'M', 27: 'M', 28: 'M', 29: 'M', 30: 'F',
  31: 'F', 32: 'F', 33: 'F', 34: 'F', 35: 'M', 36: 'M', 37: 'M', 38: 'M', 39: 'M', 40: 'F',
  41: 'F', 42: 'F', 43: 'M', 44: 'M', 45: 'F', 46: 'F', 47: 'M', 48: 'F', 49: 'F', 50: 'M',
  51: 'M',
  52: 'F', 53: 'F', 54: 'F', 55: 'F', 56: 'F',
  57: 'F', 58: 'F', 59: 'F', 60: 'F',
  61: 'F', 62: 'F', 63: 'F', 64: 'F', 65: 'F',
  66: 'M', 67: 'F', 68: 'F', 69: 'F', 70: 'F', 71: 'F', 72: 'F', 73: 'M',
};

export interface AnimePersona {
  key: number;
  name: string;
  description: string;
  gender: AnimeGender;
}

// 글 작성자용 - 랜덤 캐릭터 선택
export const getRandomWriter = (): AnimePersona => {
  const keys = Object.keys(ANIME_PERSONAS).map(Number);
  const randomKey = keys[Math.floor(Math.random() * keys.length)];
  const full = ANIME_PERSONAS[randomKey];
  const [namePart, ...descParts] = full.split(':');
  return {
    key: randomKey,
    name: namePart.trim(),
    description: descParts.join(':').trim(),
    gender: PERSONA_GENDER[randomKey] || 'M',
  };
};

// 댓글 작성자용 - 글 작성자 제외하고 랜덤 선택
export const getCommenterList = (
  count: number = 5,
  excludeKey?: number
): string => {
  const keys = Object.keys(ANIME_PERSONAS)
    .map(Number)
    .filter((k) => k !== excludeKey);
  const shuffled = keys.sort(() => Math.random() - 0.5);
  const selected = shuffled.slice(0, count);

  return selected
    .map((key, idx) => {
      const suffix = PERSONA_GENDER[key] === 'F' ? '→ 문장 끝: 냥' : '→ 문장 끝: 으아악!';
      return `댓글러${idx + 1}: ${ANIME_PERSONAS[key]} (${suffix})`;
    })
    .join('\n');
};
